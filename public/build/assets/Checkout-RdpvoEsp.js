import{m as f,k as m,h as x,w as _,o as k,b as e,t as a,e as w,f as n,v as u,p as h,G as S}from"./app-DkVHQ-2S.js";import{_ as D}from"./MainLayout-iB_2OQqx.js";const q={class:"min-h-screen pt-24 pb-12 bg-gray-50"},C={class:"container mx-auto px-4"},V={class:"max-w-3xl mx-auto"},M={class:"bg-white rounded-lg shadow-lg p-6 mb-8"},U={class:"space-y-4"},B={class:"flex justify-between items-center"},T={class:"font-semibold"},j={class:"flex justify-between items-center"},N={class:"font-semibold"},R={class:"flex justify-between items-center"},A={class:"font-semibold"},G={class:"flex justify-between items-center"},P={class:"font-semibold"},I={class:"border-t pt-4"},O={class:"flex justify-between items-center text-lg font-bold"},L={class:"space-y-6"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},F={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},H=["min"],$=["min"],z={class:"mt-8"},J=["disabled"],W={__name:"Checkout",props:{hotel:String,room:String,price:Number},setup(r){const i=r,d=f(!1),g={small:"Small Room",medium:"Medium Room",large:"Large Room",luxury:"Luxury Suite"},s=f({hotel:i.hotel,room_type:i.room,price:i.price,guest_name:"",phone:"",address:"",check_in_date:"",check_out_date:"",payment_method:"",special_requests:""}),p=m(()=>new Date().toISOString().split("T")[0]),v=m(()=>{if(!s.value.check_in_date)return p.value;const l=new Date(s.value.check_in_date);return l.setDate(l.getDate()+1),l.toISOString().split("T")[0]}),c=m(()=>{if(!s.value.check_in_date||!s.value.check_out_date)return 1;const l=new Date(s.value.check_in_date),t=new Date(s.value.check_out_date);return Math.ceil((t-l)/(1e3*60*60*24))}),b=m(()=>i.price*c.value),y=()=>{d.value=!0;const l={...s.value,days_of_stay:c.value,total_price:b.value};S.post("/bookings",l,{onSuccess:()=>{d.value=!1},onError:()=>{d.value=!1}})};return(l,t)=>(k(),x(D,null,{default:_(()=>[e("div",q,[e("div",C,[e("div",V,[t[22]||(t[22]=e("h1",{class:"text-4xl font-bold text-center mb-8"},"Checkout",-1)),e("div",M,[t[12]||(t[12]=e("h2",{class:"text-2xl font-bold mb-4"},"Booking Summary",-1)),e("div",U,[e("div",B,[t[7]||(t[7]=e("span",{class:"text-gray-600"},"Hotel:",-1)),e("span",T,a(r.hotel),1)]),e("div",j,[t[8]||(t[8]=e("span",{class:"text-gray-600"},"Room Type:",-1)),e("span",N,a(g[r.room]),1)]),e("div",R,[t[9]||(t[9]=e("span",{class:"text-gray-600"},"Price per Night:",-1)),e("span",A,"₱"+a(r.price),1)]),e("div",G,[t[10]||(t[10]=e("span",{class:"text-gray-600"},"Days of Stay:",-1)),e("span",P,a(c.value)+" days",1)]),e("div",I,[e("div",O,[t[11]||(t[11]=e("span",null,"Total Amount:",-1)),e("span",null,"₱"+a(b.value),1)])])])]),e("form",{onSubmit:w(y,["prevent"]),class:"bg-white rounded-lg shadow-lg p-6"},[t[21]||(t[21]=e("h2",{class:"text-2xl font-bold mb-6"},"Guest Information",-1)),e("div",L,[e("div",E,[e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Full Name",-1)),n(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>s.value.guest_name=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:""},null,512),[[u,s.value.guest_name]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Phone Number",-1)),n(e("input",{type:"tel","onUpdate:modelValue":t[1]||(t[1]=o=>s.value.phone=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:""},null,512),[[u,s.value.phone]])])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Address",-1)),n(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=o=>s.value.address=o),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:""},null,512),[[u,s.value.address]])]),e("div",F,[e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Check-in Date",-1)),n(e("input",{type:"date","onUpdate:modelValue":t[3]||(t[3]=o=>s.value.check_in_date=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:"",min:p.value},null,8,H),[[u,s.value.check_in_date]])]),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Check-out Date",-1)),n(e("input",{type:"date","onUpdate:modelValue":t[4]||(t[4]=o=>s.value.check_out_date=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:"",min:v.value},null,8,$),[[u,s.value.check_out_date]])])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Payment Method",-1)),n(e("select",{"onUpdate:modelValue":t[5]||(t[5]=o=>s.value.payment_method=o),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:""},t[18]||(t[18]=[e("option",{value:""},"Select a payment method",-1),e("option",{value:"cash"},"Cash",-1),e("option",{value:"credit_card"},"Credit Card",-1),e("option",{value:"gcash"},"GCash",-1),e("option",{value:"maya"},"Maya",-1)]),512),[[h,s.value.payment_method]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Special Requests",-1)),n(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=o=>s.value.special_requests=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Any special requests or preferences?"},null,512),[[u,s.value.special_requests]])])]),e("div",z,[e("button",{type:"submit",class:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",disabled:d.value},a(d.value?"Processing...":"Confirm Booking"),9,J)])],32)])])])]),_:1}))}};export{W as default};
